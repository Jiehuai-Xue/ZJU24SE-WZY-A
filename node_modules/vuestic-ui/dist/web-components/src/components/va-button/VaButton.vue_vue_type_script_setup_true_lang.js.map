{"version":3,"file":"VaButton.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-button/VaButton.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"tagComputed\"\n    ref=\"button\"\n    class=\"va-button\"\n    :class=\"computedClass\"\n    :style=\"computedStyle\"\n    v-bind=\"attributesComputed\"\n  >\n    <span class=\"va-button__content\" :class=\"wrapperClassComputed\">\n      <slot\n        name=\"prepend\"\n        v-bind=\"{ icon, iconAttributes: iconAttributesComputed }\"\n      >\n        <va-icon\n          v-if=\"icon\"\n          class=\"va-button__left-icon\"\n          :name=\"icon\"\n          v-bind=\"iconAttributesComputed\"\n        />\n      </slot>\n      <slot />\n      <slot\n        name=\"append\"\n        v-bind=\"{ icon: iconRight, iconAttributes: iconAttributesComputed }\"\n      >\n        <va-icon\n          v-if=\"iconRight\"\n          class=\"va-button__right-icon\"\n          :name=\"iconRight\"\n          v-bind=\"iconAttributesComputed\"\n        />\n      </slot>\n    </span>\n    <template v-if=\"loading\">\n      <slot name=\"loading\" v-bind=\"{\n        size: iconSizeComputed,\n        color: textColorComputed,\n      }\">\n        <va-progress-circle\n          class=\"va-button__loader\"\n          :size=\"iconSizeComputed\"\n          :color=\"textColorComputed\"\n          :thickness=\"0.15\"\n          indeterminate\n        />\n      </slot>\n      </template>\n  </component>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed, toRefs, shallowRef } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport {\n  useBem,\n  useFocus,\n  useHover, useHoverStyleProps,\n  usePressed, usePressedStyleProps,\n  useColors, useTextColor,\n  useLoadingProps,\n  useSize, useSizeProps,\n  useRouterLink, useRouterLinkProps,\n  useComponentPresetProp,\n  useSlotPassed,\n  useNumericProp,\n} from '../../composables'\n\nimport { useButtonBackground } from './hooks/useButtonBackground'\nimport { useButtonAttributes } from './hooks/useButtonAttributes'\nimport { useButtonTextColor } from './hooks/useButtonTextColor'\n\nimport { VaIcon } from '../va-icon'\nimport { VaProgressCircle } from '../va-progress-circle'\n\ndefineOptions({\n  name: 'VaButton',\n})\n\nconst props = defineProps({\n  ...useComponentPresetProp,\n  ...useSizeProps,\n  ...useHoverStyleProps,\n  ...usePressedStyleProps,\n  ...useLoadingProps,\n  ...useRouterLinkProps,\n  tag: { type: String, default: 'button' },\n  type: { type: String, default: 'button' },\n  block: { type: Boolean, default: false },\n  disabled: { type: Boolean, default: false },\n\n  color: { type: String, default: 'primary' },\n  textColor: { type: String, default: '' },\n  textOpacity: { type: [Number, String], default: 1 },\n  backgroundOpacity: { type: [Number, String], default: 1 },\n  borderColor: { type: String, default: '' },\n\n    // only for filled bg state\n  gradient: { type: Boolean, default: false },\n  plain: { type: Boolean, default: false },\n  round: { type: Boolean, default: false },\n  size: {\n    type: String as PropType<'small' | 'medium' | 'large'>,\n    default: 'medium',\n    validator: (v: string) => ['small', 'medium', 'large'].includes(v),\n  },\n\n  icon: { type: String, default: '' },\n  iconRight: { type: String, default: '' },\n  iconColor: { type: String, default: '' },\n})\n\n// colors\nconst { getColor } = useColors()\nconst colorComputed = computed(() => getColor(props.color))\n\n// loader size\nconst { sizeComputed } = useSize(props)\nconst iconSizeComputed = computed(() => {\n  const size = /([0-9]*)(px)/.exec(sizeComputed.value) as null | [string, string, string]\n  return size ? `${+size[1] / 2}${size[2]}` : sizeComputed.value\n})\n\n// attributes\nconst { tagComputed } = useRouterLink(props)\nconst attributesComputed = useButtonAttributes(props)\n\n// states\nconst { disabled } = toRefs(props)\nconst button = shallowRef<HTMLElement>()\nconst { focus, blur } = useFocus(button)\nconst { isHovered } = useHover(button, disabled)\nconst { isPressed } = usePressed(button)\n\n// icon attributes\nconst iconColorComputed = computed(() => props.iconColor ? getColor(props.iconColor) : textColorComputed.value)\nconst iconAttributesComputed = computed(() => ({\n  color: iconColorComputed.value,\n  size: props.size,\n}))\n\n// classes\nconst wrapperClassComputed = computed(() => ({ 'va-button__content--loading': props.loading }))\n\nconst isSlotContentPassed = useSlotPassed()\n\nconst isOneIcon = computed(() => !!((props.iconRight && !props.icon) || (!props.iconRight && props.icon)))\nconst isOnlyIcon = computed(() => !isSlotContentPassed.value && isOneIcon.value)\nconst textOpacityComputed = useNumericProp('textOpacity')\nconst backgroundOpacityComputed = useNumericProp('backgroundOpacity')\n\nconst computedClass = useBem('va-button', () => ({\n  ...pick(props, ['disabled', 'block', 'loading', 'round', 'plain']),\n  small: props.size === 'small',\n  normal: !props.size || props.size === 'medium',\n  large: props.size === 'large',\n  opacity: textOpacityComputed.value! < 1,\n  bordered: !!props.borderColor,\n  iconOnly: isOnlyIcon.value,\n  leftIcon: !isOnlyIcon.value && !!props.icon && !props.iconRight,\n  rightIcon: !isOnlyIcon.value && !props.icon && !!props.iconRight,\n}))\n\n// styles\nconst isTransparentBg = computed(() => props.plain || backgroundOpacityComputed.value! < 0.5)\nconst { textColorComputed } = useTextColor(colorComputed, isTransparentBg)\n\nconst {\n  backgroundColor,\n  backgroundColorOpacity,\n  backgroundMaskOpacity,\n  backgroundMaskColor,\n} = useButtonBackground(colorComputed, isPressed, isHovered)\nconst contentColorComputed = useButtonTextColor(textColorComputed, colorComputed, isPressed, isHovered)\n\nconst computedStyle = computed(() => ({\n  borderColor: props.borderColor ? getColor(props.borderColor) : 'transparent',\n  ...contentColorComputed.value,\n}))\n\ndefineExpose({\n  focus,\n  blur,\n})\n</script>\n\n<style lang='scss'>\n@import 'variables';\n@import '../../styles/resources';\n\n.va-button {\n  position: relative;\n  padding: var(--va-button-padding);\n  display: var(--va-button-display);\n  justify-content: var(--va-button-justify-content);\n  align-items: var(--va-button-align-items);\n  border-width: var(--va-button-border-width);\n  border-color: var(--va-button-border-color);\n  border-style: var(--va-button-border-style);\n  background-image: var(--va-button-background-image);\n  box-shadow: var(--va-button-box-shadow);\n  font-family: var(--va-font-family);\n  font-weight: var(--va-button-font-weight);\n  text-decoration: none;\n  text-transform: initial;\n  transition: var(--va-button-transition);\n  box-sizing: border-box;\n  cursor: var(--va-button-cursor);\n  z-index: 0;\n  vertical-align: top;\n\n  &::after,\n  &::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n    left: 0;\n    top: 0;\n    z-index: -1;\n  }\n\n  &::before {\n    background: v-bind(backgroundColor);\n    opacity: v-bind(backgroundColorOpacity);\n  }\n\n  &::after {\n    background-color: v-bind(backgroundMaskColor);\n    opacity: v-bind(backgroundMaskOpacity);\n  }\n\n  &__content {\n    height: 100%;\n    display: flex;\n    align-items: center;\n    z-index: 1;\n\n    &--loading {\n      opacity: 0;\n    }\n  }\n\n  &--small {\n    line-height: var(--va-button-sm-line-height);\n    border-radius: var(--va-button-sm-border-radius);\n    letter-spacing: var(--va-button-sm-letter-spacing);\n    min-height: var(--va-button-sm-size);\n    min-width: var(--va-button-sm-size);\n\n    .va-button__content {\n      font-size: var(--va-button-sm-font-size);\n      padding: var(--va-button-sm-content-py) var(--va-button-sm-content-px);\n    }\n\n    // set icons the same size as text\n    .va-button__left-icon,\n    .va-button__right-icon {\n      // font-size: var(--va-button-sm-line-height) !important;\n      // height: var(--va-button-sm-line-height) !important;\n      // line-height: var(--va-button-sm-line-height) !important;\n    }\n\n    .va-button__left-icon {\n      margin-right: var(--va-button-sm-icons-spacing);\n    }\n\n    .va-button__right-icon {\n      margin-left: var(--va-button-sm-icons-spacing);\n    }\n\n    &.va-button--bordered {\n      .va-button__content {\n        padding-top: calc(var(--va-button-sm-content-py) - var(--va-button-bordered-border));\n        padding-bottom: calc(var(--va-button-sm-content-py) - var(--va-button-bordered-border));\n      }\n    }\n\n    &.va-button--left-icon {\n      .va-button__content {\n        padding-left: var(--va-button-sm-icon-side-padding);\n      }\n    }\n\n    &.va-button--right-icon {\n      .va-button__content {\n        padding-right: var(--va-button-sm-icon-side-padding);\n      }\n    }\n  }\n\n  &--normal {\n    line-height: var(--va-button-line-height);\n    border-radius: var(--va-button-border-radius);\n    letter-spacing: var(--va-button-letter-spacing);\n    min-height: var(--va-button-size);\n    min-width: var(--va-button-size);\n\n    .va-button__content {\n      font-size: var(--va-button-font-size);\n      padding: var(--va-button-content-py) var(--va-button-content-px);\n      line-height: var(--va-button-line-height);\n    }\n\n    // set icons the same size as text\n    .va-button__left-icon,\n    .va-button__right-icon {\n      // font-size: var(--va-button-line-height) !important;\n      // height: var(--va-button-line-height) !important;\n      // line-height: var(--va-button-line-height) !important;\n    }\n\n    .va-button__left-icon {\n      margin-right: var(--va-gap-medium);\n    }\n\n    .va-button__right-icon {\n      margin-left: var(--va-gap-medium);\n    }\n\n    &.va-button--bordered {\n      .va-button__content {\n        padding-top: calc(var(--va-button-content-py) - var(--va-button-bordered-border));\n        padding-bottom: calc(var(--va-button-content-py) - var(--va-button-bordered-border));\n      }\n    }\n\n    &.va-button--left-icon {\n      .va-button__content {\n        // padding-left: var(--va-button-icon-side-padding);\n      }\n    }\n\n    &.va-button--right-icon {\n      .va-button__content {\n        // padding-right: var(--va-button-icon-side-padding);\n      }\n    }\n  }\n\n  &--large {\n    line-height: var(--va-button-lg-line-height);\n    border-radius: var(--va-button-lg-border-radius);\n    letter-spacing: var(--va-button-lg-letter-spacing);\n    min-height: var(--va-button-lg-size);\n    min-width: var(--va-button-lg-size);\n\n    .va-button__content {\n      font-size: var(--va-button-lg-font-size);\n      padding: var(--va-button-lg-content-py) var(--va-button-lg-content-px);\n    }\n\n    // set icons the same size as text\n    .va-button__left-icon,\n    .va-button__right-icon {\n      // font-size: var(--va-button-lg-line-height) !important;\n      // height: var(--va-button-lg-line-height) !important;\n      // line-height: var(--va-button-lg-line-height) !important;\n    }\n\n    .va-button__left-icon {\n      margin-right: var(--va-button-lg-icons-spacing);\n    }\n\n    .va-button__right-icon {\n      margin-left: var(--va-button-lg-icons-spacing);\n    }\n\n    &.va-button--bordered {\n      .va-button__content {\n        padding-top: calc(var(--va-button-lg-content-py) - var(--va-button-bordered-border));\n        padding-bottom: calc(var(--va-button-lg-content-py) - var(--va-button-bordered-border));\n      }\n    }\n\n    &.va-button--left-icon {\n      .va-button__content {\n        padding-left: var(--va-button-lg-icon-side-padding);\n      }\n    }\n\n    &.va-button--right-icon {\n      .va-button__content {\n        padding-right: var(--va-button-lg-icon-side-padding);\n      }\n    }\n  }\n\n  &--small,\n  &--normal,\n  &--large {\n    &.va-button--icon-only {\n      .va-button__content {\n        padding-right: 0;\n        padding-left: 0;\n      }\n    }\n  }\n\n  &--plain {\n    min-width: auto;\n    min-height: auto;\n\n    .va-button__content {\n      padding: 0;\n      z-index: unset;\n    }\n  }\n\n  &--round {\n    border-radius: 999px;\n  }\n\n  &--bordered {\n    border-width: var(--va-button-bordered-border);\n    border-style: var(--va-button-bordered-style);\n  }\n\n  &.va-button--disabled {\n    @include va-disabled;\n  }\n\n  &--icon-only {\n    .va-button__left-icon,\n    .va-button__right-icon {\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    .va-button__content {\n      padding: 0;\n    }\n  }\n\n  @include keyboard-focus-outline;\n\n  &--loading {\n    pointer-events: none;\n  }\n\n  &--block {\n    display: flex;\n    min-width: 100%;\n  }\n\n  &__loader {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA,UAAM,QAAQ;AAkCR,UAAA,EAAE,aAAa;AACrB,UAAM,gBAAgB,SAAS,MAAM,SAAS,MAAM,KAAK,CAAC;AAG1D,UAAM,EAAE,aAAA,IAAiB,QAAQ,KAAK;AAChC,UAAA,mBAAmB,SAAS,MAAM;AACtC,YAAM,OAAO,eAAe,KAAK,aAAa,KAAK;AACnD,aAAO,OAAO,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,KAAK,aAAa;AAAA,IAAA,CAC1D;AAGD,UAAM,EAAE,YAAA,IAAgB,cAAc,KAAK;AACrC,UAAA,qBAAqB,oBAAoB,KAAK;AAGpD,UAAM,EAAE,SAAA,IAAa,OAAO,KAAK;AACjC,UAAM,SAAS;AACf,UAAM,EAAE,OAAO,KAAK,IAAI,SAAS,MAAM;AACvC,UAAM,EAAE,UAAc,IAAA,SAAS,QAAQ,QAAQ;AAC/C,UAAM,EAAE,UAAA,IAAc,WAAW,MAAM;AAGjC,UAAA,oBAAoB,SAAS,MAAM,MAAM,YAAY,SAAS,MAAM,SAAS,IAAI,kBAAkB,KAAK;AACxG,UAAA,yBAAyB,SAAS,OAAO;AAAA,MAC7C,OAAO,kBAAkB;AAAA,MACzB,MAAM,MAAM;AAAA,IACZ,EAAA;AAGF,UAAM,uBAAuB,SAAS,OAAO,EAAE,+BAA+B,MAAM,QAAU,EAAA;AAE9F,UAAM,sBAAsB;AAE5B,UAAM,YAAY,SAAS,MAAM,CAAC,EAAG,MAAM,aAAa,CAAC,MAAM,QAAU,CAAC,MAAM,aAAa,MAAM,KAAM;AACzG,UAAM,aAAa,SAAS,MAAM,CAAC,oBAAoB,SAAS,UAAU,KAAK;AACzE,UAAA,sBAAsB,eAAe,aAAa;AAClD,UAAA,4BAA4B,eAAe,mBAAmB;AAE9D,UAAA,gBAAgB,OAAO,aAAa,OAAO;AAAA,MAC/C,GAAG,KAAK,OAAO,CAAC,YAAY,SAAS,WAAW,SAAS,OAAO,CAAC;AAAA,MACjE,OAAO,MAAM,SAAS;AAAA,MACtB,QAAQ,CAAC,MAAM,QAAQ,MAAM,SAAS;AAAA,MACtC,OAAO,MAAM,SAAS;AAAA,MACtB,SAAS,oBAAoB,QAAS;AAAA,MACtC,UAAU,CAAC,CAAC,MAAM;AAAA,MAClB,UAAU,WAAW;AAAA,MACrB,UAAU,CAAC,WAAW,SAAS,CAAC,CAAC,MAAM,QAAQ,CAAC,MAAM;AAAA,MACtD,WAAW,CAAC,WAAW,SAAS,CAAC,MAAM,QAAQ,CAAC,CAAC,MAAM;AAAA,IACvD,EAAA;AAGF,UAAM,kBAAkB,SAAS,MAAM,MAAM,SAAS,0BAA0B,QAAS,GAAG;AAC5F,UAAM,EAAE,kBAAsB,IAAA,aAAa,eAAe,eAAe;AAEnE,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACE,IAAA,oBAAoB,eAAe,WAAW,SAAS;AAC3D,UAAM,uBAAuB,mBAAmB,mBAAmB,eAAe,WAAW,SAAS;AAEhG,UAAA,gBAAgB,SAAS,OAAO;AAAA,MACpC,aAAa,MAAM,cAAc,SAAS,MAAM,WAAW,IAAI;AAAA,MAC/D,GAAG,qBAAqB;AAAA,IACxB,EAAA;AAEW,aAAA;AAAA,MACX;AAAA,MACA;AAAA,IAAA,CACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}