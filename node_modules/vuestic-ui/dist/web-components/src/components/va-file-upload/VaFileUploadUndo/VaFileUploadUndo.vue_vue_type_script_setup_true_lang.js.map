{"version":3,"file":"VaFileUploadUndo.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../src/components/va-file-upload/VaFileUploadUndo/VaFileUploadUndo.vue"],"sourcesContent":["<template>\n  <va-progress-bar\n    :model-value=\"progress\"\n    :rounded=\"false\"\n    class=\"va-file-upload-undo-progress-bar\"\n  />\n  <div\n    class=\"va-file-upload-undo\"\n    :class=\"computedClasses\"\n  >\n    <span class=\"va-file-upload-undo__text\">{{ deletedFileMessage }}</span>\n    <va-button\n      class=\"va-file-upload-undo__button\"\n      :aria-label=\"undoButtonText\"\n      size=\"small\"\n      outline\n      @click=\"$emit('recover')\"\n    >\n      {{ undoButtonText }}\n    </va-button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, ref, onMounted } from 'vue'\n\nimport { useBem, useStrictInject } from '../../../composables'\nimport { VaFileUploadKey } from '../types'\n\nimport { VaButton } from '../../va-button'\nimport { VaProgressBar } from '../../va-progress-bar'\n\nconst INJECTION_ERROR_MESSAGE = 'The VaFileUploadUndo component should be used in the context of VaFileUpload component'\n</script>\n\n<script lang=\"ts\" setup>\n\ndefineOptions({\n  name: 'VaFileUploadUndo',\n})\n\nconst props = defineProps({\n  vertical: { type: Boolean, default: false },\n})\n\nconst emit = defineEmits(['recover'])\n\nconst progress = ref(100)\nconst {\n  undoDuration,\n  undoButtonText,\n  deletedFileMessage,\n} = useStrictInject(VaFileUploadKey, INJECTION_ERROR_MESSAGE)\n\nconst computedClasses = useBem('va-file-upload-undo', () => ({\n  vertical: props.vertical,\n}))\n\nconst undoDurationStyle = computed(() => `${undoDuration.value ?? 0}ms`)\n\nonMounted(() => {\n  const timer = setTimeout(() => {\n    progress.value = 0\n    clearTimeout(timer)\n  }, 0)\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-file-upload-undo-progress-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  --va-progress-bar-transition: width v-bind(undoDurationStyle) linear;\n}\n\n.va-file-upload-undo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  &__button {\n    line-height: var(--va-file-upload-undo-button-line-height);\n    margin-left: var(--va-file-upload-undo-margin-left);\n    margin-top: var(--va-file-upload-undo-button-margin-top);\n    margin-bottom: var(--va-file-upload-undo-button-margin-bottom);\n  }\n\n  &--vertical {\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    padding: var(--va-file-upload-undo-padding);\n\n    .va-file-upload-undo__text {\n      margin: 1rem 0 0;\n      text-align: center;\n    }\n\n    .va-file-upload-undo__button {\n      margin: 1rem 0 0;\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;AAgCA,MAAM,0BAA0B;;;;;;;;;;;;;;AAShC,UAAM,QAAQ;AAMR,UAAA,WAAW,IAAI,GAAG;AAClB,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,IAAA,IACE,gBAAgB,iBAAiB,uBAAuB;AAEtD,UAAA,kBAAkB,OAAO,uBAAuB,OAAO;AAAA,MAC3D,UAAU,MAAM;AAAA,IAChB,EAAA;AAEF,UAAM,oBAAoB,SAAS,MAAM,GAAG,aAAa,SAAS,CAAC,IAAI;AAEvE,cAAU,MAAM;AACR,YAAA,QAAQ,WAAW,MAAM;AAC7B,iBAAS,QAAQ;AACjB,qBAAa,KAAK;AAAA,SACjB,CAAC;AAAA,IAAA,CACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}