{"version":3,"file":"VaDataTableThRow.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../../src/components/va-data-table/components/VaDataTableThRow.vue"],"sourcesContent":["<template>\n  <tr class=\"va-data-table__table-tr\">\n    <th\n      v-if=\"$props.selectable\"\n      scope=\"col\"\n      class=\"va-data-table__table-th va-data-table__table-cell-select\"\n    >\n      <va-checkbox\n        v-if=\"multiplySelectAvailable\"\n        class=\"va-data-table__table-cell-checkbox\"\n        :model-value=\"$props.severalRowsSelected ? 'idl' : $props.allRowsSelected\"\n        :aria-label=\"tp($props.ariaSelectAllRowsLabel)\"\n        :true-value=\"true\"\n        :false-value=\"false\"\n        :color=\"$props.selectedColor\"\n        indeterminate-value=\"idl\"\n        indeterminate\n        @update:model-value=\"toggleBulkSelection\"\n      />\n    </th>\n\n    <th\n      v-for=\"column in columns\"\n      :key=\"column.name\"\n      scope=\"col\"\n      class=\"va-data-table__table-th\"\n      :title=\"column.thTitle\"\n      :class=\"getClass(column.thClass)\"\n      :style=\"getColumnStyles(column)\"\n      v-bind=\"getAriaAttributes(column)\"\n      @click.exact=\"sortByColumn(column)\"\n      @keydown.enter.stop=\"sortByColumn(column)\"\n    >\n      <div class=\"va-data-table__table-th-wrapper\">\n        <span v-if=\"`${slotNameComputed}(${column.name})` in $slots\">\n          <slot\n            :name=\"`${slotNameComputed}(${column.name})`\"\n            v-bind=\"{ label: column.label, key: column.key }\"\n          />\n        </span>\n\n        <slot\n          v-else\n          :name=\"slotNameComputed\"\n          v-bind=\"{ label: column.label, key: column.key }\"\n        >\n          <span>{{ column.label }}</span>\n        </slot>\n\n          <va-icon\n            v-if=\"column.sortable\"\n            class=\"va-data-table__table-th-sorting-icon\"\n            :class=\"{ active: sortBySync === column.name && sortingOrderSync !== null }\"\n            size=\"small\"\n            :role=\"column.sortable ? 'button' : undefined\"\n            :tabindex=\"column.sortable ? 0 : -1\"\n            :name=\"sortingOrderIconName\"\n            @selectstart.prevent=\"() => {}\"\n          />\n        </div>\n    </th>\n  </tr>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed } from 'vue'\n\nimport { VaIcon } from '../../va-icon'\nimport { VaCheckbox } from '../../va-checkbox'\n\nimport { useStylable, useStylableProps } from '../hooks/useStylable'\n\nimport type { TSortIcon } from '../hooks/useSortable'\n\nimport { useTranslation } from '../../../composables'\n\nimport {\n  DataTableSortingOrder,\n  DataTableSelectMode,\n  DataTableColumnInternal,\n} from '../types'\n\ndefineOptions({\n  name: 'VaDataTableThRow',\n})\n\nconst props = defineProps({\n  ...useStylableProps,\n  selectMode: { type: String as PropType<DataTableSelectMode>, default: 'multiple' },\n  allRowsSelected: { type: Boolean, default: false },\n  severalRowsSelected: { type: Boolean, default: false },\n\n  columns: { type: Array as PropType<DataTableColumnInternal[]>, required: true },\n\n  isFooter: { type: Boolean, default: false },\n\n  sortBySync: { type: String, required: true },\n  sortingOrderIconName: { type: String as PropType<TSortIcon>, required: true },\n  sortingOrderSync: { type: String as PropType<DataTableSortingOrder | null>, default: null },\n\n  ariaSelectAllRowsLabel: { type: String, default: '$t:selectAllRows' },\n  ariaSortColumnByLabel: { type: String, default: '$t:sortColumnBy' },\n})\n\nconst emit = defineEmits([\n  'toggleBulkSelection',\n  'toggleSorting',\n])\n\nconst { t, tp } = useTranslation()\n\nconst {\n  getFooterCSSVariables,\n  getHeaderCSSVariables,\n  getClass,\n  getStyle,\n} = useStylable(props)\n\nconst getAriaAttributes = (column: DataTableColumnInternal) => {\n  const ariaSort = (props.sortingOrderSync && props.sortBySync === column.name\n    ? props.sortingOrderSync === 'asc' ? 'ascending' : 'descending'\n    : 'none') as 'none' | 'ascending' | 'descending'\n\n  const ariaLabel = column.sortable ? tp(props.ariaSortColumnByLabel, { name: column.label }) : undefined\n\n  return {\n    'aria-sort': ariaSort,\n    'aria-label': ariaLabel,\n  }\n}\n\nconst sortByColumn = (column: DataTableColumnInternal) => {\n  if ((props.isFooter && !props.allowFooterSorting) || !column.sortable) { return }\n\n  emit('toggleSorting', column)\n}\n\nconst toggleBulkSelection = () => emit('toggleBulkSelection')\n\nconst getColumnStyles = (column: DataTableColumnInternal) => {\n  return [\n    column.width ? { minWidth: column.width, maxWidth: column.width } : {},\n    props.isFooter ? getFooterCSSVariables(column) : getHeaderCSSVariables(column),\n    getStyle(column.thStyle),\n  ]\n}\n\nconst slotNameComputed = computed(() => props.isFooter ? 'footer' : 'header')\n\nconst multiplySelectAvailable = computed(() => props.selectMode === 'multiple')\n</script>\n\n<style lang=\"scss\">\n@import \"../../../styles/resources/index.scss\";\n@import \"../variables\";\n\n.va-data-table .va-data-table__table {\n  .va-data-table__table-th {\n    padding: var(--va-data-table-cell-padding);\n    width: var(--va-data-table-width);\n    min-width: var(--va-data-table-width);\n    text-align: var(--va-data-table-align);\n    vertical-align: var(--va-data-table-vertical-align);\n    font-size: var(--va-data-table-thead-font-size);\n    line-height: var(--va-data-table-thead-line-height);\n    font-weight: var(--va-data-table-thead-font-weight);\n    text-transform: var(--va-data-table-thead-text-transform);\n    letter-spacing: var(--va-data-table-thead-letter-spacing);\n    cursor: var(--va-data-table-cursor);\n\n    .va-data-table__table-th-wrapper {\n      display: flex;\n      align-items: center;\n\n      @include keyboard-focus-outline($offset: 2px);\n    }\n\n    .va-data-table__table-th-sorting-icon {\n      opacity: 0;\n      user-select: none;\n      pointer-events: none;\n\n      &.active {\n        opacity: 1;\n        pointer-events: initial;\n      }\n\n      &:focus-visible {\n        opacity: 1;\n      }\n    }\n\n    span {\n      flex-grow: 1;\n    }\n\n    &:hover {\n      .va-data-table__table-th-sorting-icon:not(.active, :focus-visible) {\n        opacity: var(--va-data-table-hover-th-opacity);\n      }\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,UAAM,QAAQ;AAkBd,UAAM,OAAO;AAKb,UAAM,EAAE,GAAG,GAAG,IAAI,eAAe;AAE3B,UAAA;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA,IACE,YAAY,KAAK;AAEf,UAAA,oBAAoB,CAAC,WAAoC;AACvD,YAAA,WAAY,MAAM,oBAAoB,MAAM,eAAe,OAAO,OACpE,MAAM,qBAAqB,QAAQ,cAAc,eACjD;AAEE,YAAA,YAAY,OAAO,WAAW,GAAG,MAAM,uBAAuB,EAAE,MAAM,OAAO,OAAO,IAAI;AAEvF,aAAA;AAAA,QACL,aAAa;AAAA,QACb,cAAc;AAAA,MAAA;AAAA,IAChB;AAGI,UAAA,eAAe,CAAC,WAAoC;AACxD,UAAK,MAAM,YAAY,CAAC,MAAM,sBAAuB,CAAC,OAAO,UAAU;AAAE;AAAA,MAAO;AAEhF,WAAK,iBAAiB,MAAM;AAAA,IAAA;AAGxB,UAAA,sBAAsB,MAAM,KAAK,qBAAqB;AAEtD,UAAA,kBAAkB,CAAC,WAAoC;AACpD,aAAA;AAAA,QACL,OAAO,QAAQ,EAAE,UAAU,OAAO,OAAO,UAAU,OAAO,MAAM,IAAI,CAAC;AAAA,QACrE,MAAM,WAAW,sBAAsB,MAAM,IAAI,sBAAsB,MAAM;AAAA,QAC7E,SAAS,OAAO,OAAO;AAAA,MAAA;AAAA,IACzB;AAGF,UAAM,mBAAmB,SAAS,MAAM,MAAM,WAAW,WAAW,QAAQ;AAE5E,UAAM,0BAA0B,SAAS,MAAM,MAAM,eAAe,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}