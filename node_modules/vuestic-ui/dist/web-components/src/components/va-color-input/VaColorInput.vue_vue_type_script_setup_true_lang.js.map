{"version":3,"file":"VaColorInput.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-color-input/VaColorInput.vue"],"sourcesContent":["<template>\n  <div class=\"va-color-input\">\n    <va-input\n      v-bind=\"vaInputProps\"\n      v-model=\"valueComputed\"\n      class=\"va-color-input__input\"\n      :tabindex=\"tabIndexComputed\"\n    >\n      <template #appendInner>\n        <va-color-indicator\n          class=\"va-color-input__dot\"\n          role=\"button\"\n          :aria-label=\"tp($props.ariaOpenColorPickerLabel)\"\n          :aria-disabled=\"$props.disabled\"\n          :tabindex=\"tabIndexComputed\"\n          :color=\"valueComputed\"\n          :indicator=\"$props.indicator\"\n          size=\"16px\"\n          @click=\"callPickerDialog\"\n          @keydown.space=\"callPickerDialog\"\n          @keydown.enter=\"callPickerDialog\"\n        />\n      </template>\n    </va-input>\n    <input\n      ref=\"colorPicker\"\n      type=\"color\"\n      class=\"va-color-input__hidden-input\"\n      aria-hidden=\"true\"\n      tabindex=\"-1\"\n      v-model=\"inputValue\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { PropType, shallowRef, computed } from 'vue'\n\nimport { useComponentPresetProp, useStateful, useStatefulProps, useStatefulEmits, useTranslation } from '../../composables'\n\nimport { VaColorIndicator } from '../va-color-indicator'\nimport { VaInput } from '../va-input'\nimport { extractComponentProps, filterComponentProps } from '../../utils/component-options'\nimport throttle from 'lodash/throttle'\n\nconst VaInputProps = extractComponentProps(VaInput)\n</script>\n\n<script lang=\"ts\" setup>\n\ndefineOptions({\n  name: 'VaColorInput',\n})\n\nconst props = defineProps({\n  ...VaInputProps,\n  ...useStatefulProps,\n  ...useComponentPresetProp,\n  modelValue: { type: String, default: null },\n  disabled: { type: Boolean, default: false },\n  indicator: {\n    type: String as PropType<'dot' | 'square'>,\n    default: 'dot',\n    validator: (value: string) => ['dot', 'square'].includes(value),\n  },\n  ariaOpenColorPickerLabel: { type: String, default: '$t:openColorPicker' },\n})\n\nconst emit = defineEmits([...useStatefulEmits])\n\nconst colorPicker = shallowRef<HTMLInputElement>()\n\nconst { valueComputed } = useStateful(props, emit)\n\nconst callPickerDialog = () => !props.disabled && colorPicker.value?.click()\n\nconst tabIndexComputed = computed(() => props.disabled ? -1 : 0)\n\nconst inputValue = computed({\n  get: () => props.modelValue,\n  set: throttle((value) => emit('update:modelValue', value), 500),\n})\n\nconst vaInputProps = filterComponentProps(VaInputProps)\n\nconst { tp } = useTranslation()\n</script>\n\n<style lang=\"scss\">\n.va-color-input {\n  display: flex;\n  align-items: center !important;\n  position: relative;\n\n  .form-group {\n    margin-bottom: 0;\n  }\n\n  &__input {\n    margin-bottom: 0;\n    min-width: 5.6rem;\n\n    &__pointer {\n      cursor: pointer;\n    }\n  }\n\n  &__hidden-input {\n    visibility: hidden;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    position: absolute;\n    pointer-events: none;\n    bottom: 0;\n  }\n\n  // Currently I could only determine the width of the color modal on Edge and Chrome\n  @supports (-ms-ime-align:auto) {\n    /* Edge specific */\n    &__hidden-input {\n      right: 14.7rem; // For Edge and Chrome the color picker modal size is 14.7rem\n    }\n  }\n\n  @media screen and (-webkit-min-device-pixel-ratio: 0) {\n    /* Chrome specific */\n    &__hidden-input {\n      right: 14.7rem; // For Edge and Chrome the color picker modal size is 14.7rem\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;AA6CA,MAAM,eAAe,sBAAsB,OAAO;;;;;;;;;;;;;;;;;;;;;AASlD,UAAM,QAAQ;AAcd,UAAM,OAAO;AAEb,UAAM,cAAc;AAEpB,UAAM,EAAE,cAAkB,IAAA,YAAY,OAAO,IAAI;AAEjD,UAAM,mBAAmB,MAAA;;AAAM,cAAC,MAAM,cAAY,iBAAY,UAAZ,mBAAmB;AAAA;AAErE,UAAM,mBAAmB,SAAS,MAAM,MAAM,WAAW,KAAK,CAAC;AAE/D,UAAM,aAAa,SAAS;AAAA,MAC1B,KAAK,MAAM,MAAM;AAAA,MACjB,KAAK,SAAS,CAAC,UAAU,KAAK,qBAAqB,KAAK,GAAG,GAAG;AAAA,IAAA,CAC/D;AAEK,UAAA,eAAe,qBAAqB,YAAY;AAEhD,UAAA,EAAE,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}