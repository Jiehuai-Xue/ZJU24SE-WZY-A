{"version":3,"file":"VaSwitch.vue_vue_type_script_setup_true_lang.js","sources":["../../../../../src/components/va-switch/VaSwitch.vue"],"sourcesContent":["<template>\n  <VaMessageListWrapper\n    class=\"va-switch\"\n    :class=\"computedClass\"\n    :style=\"styleComputed\"\n    :disabled=\"$props.disabled\"\n    :success=\"$props.success\"\n    :messages=\"$props.messages\"\n    :error=\"computedError\"\n    :error-messages=\"computedErrorMessages\"\n    :error-count=\"$props.errorCount\"\n  >\n    <div\n      ref=\"container\"\n      class=\"va-switch__container\"\n      tabindex=\"-1\"\n      @blur=\"onBlur\"\n      @click=\"toggleSelection\"\n    >\n      <div\n        class=\"va-switch__inner\"\n      >\n        <input\n          ref=\"input\"\n          type=\"checkbox\"\n          class=\"va-switch__input\"\n          role=\"switch\"\n          v-bind=\"inputAttributesComputed\"\n          v-on=\"keyboardFocusListeners\"\n          @focus=\"onFocus\"\n          @blur=\"onBlur\"\n          @keypress.enter=\"onEnterKeyPress\"\n        >\n        <div\n          class=\"va-switch__track\"\n          aria-hidden=\"true\"\n          :style=\"trackStyle\"\n        >\n          <div\n            v-if=\"computedInnerLabel || $slots.innerLabel\"\n            class=\"va-switch__track-label\"\n            :style=\"trackLabelStyle\"\n            >\n            <slot name=\"innerLabel\">\n              {{ computedInnerLabel }}\n            </slot>\n          </div>\n          <div class=\"va-switch__checker-wrapper\">\n            <div class=\"va-switch__checker\">\n              <slot name=\"checker\" v-bind=\"{ value: isChecked }\">\n                <div class=\"va-switch__checker-circle\">\n                  <va-progress-circle\n                    v-if=\"$props.loading\"\n                    indeterminate\n                    :size=\"progressCircleSize\"\n                    :color=\"trackStyle.backgroundColor\"\n                  />\n                </div>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"computedLabel || $slots.default\"\n        ref=\"label\"\n        class=\"va-switch__label\"\n        :style=\"labelStyle\"\n        :id=\"ariaLabelIdComputed\"\n        @blur=\"onBlur\"\n        @click=\"toggleSelection\"\n        @keydown.enter.stop=\"toggleSelection\"\n      >\n        <slot>\n          {{ computedLabel }}\n        </slot>\n      </div>\n    </div>\n  </VaMessageListWrapper>\n</template>\n\n<script lang=\"ts\" setup>\nimport { PropType, computed, shallowRef, useSlots } from 'vue'\nimport pick from 'lodash/pick.js'\n\nimport {\n  useComponentPresetProp,\n  useKeyboardOnlyFocus,\n  useSelectable, useSelectableProps, useSelectableEmits,\n  useColors, useTextColor,\n  useBem,\n} from '../../composables'\n\nimport { VaProgressCircle } from '../va-progress-circle'\nimport { VaMessageListWrapper } from '../va-message-list'\nimport { useComponentUuid } from '../../composables/useComponentUuid'\n\ndefineOptions({\n  name: 'VaSwitch',\n})\n\nconst props = defineProps({\n  ...useSelectableProps,\n  ...useComponentPresetProp,\n  id: { type: String, default: '' },\n  name: { type: String, default: '' },\n  modelValue: {\n    type: [Number, Boolean, Array, String, Object] as PropType<boolean | unknown[] | string | number | Record<string, unknown> | null>,\n    default: false,\n  },\n  trueLabel: { type: String, default: null },\n  falseLabel: { type: String, default: null },\n  trueInnerLabel: { type: String, default: null },\n  falseInnerLabel: { type: String, default: null },\n  ariaLabel: { type: String, default: '$t:switch' },\n  color: { type: String, default: 'primary' },\n  offColor: { type: String, default: 'background-element' },\n  size: {\n    type: String as PropType<'medium' | 'small' | 'large'>,\n    default: 'medium',\n    validator: (value: string) => ['medium', 'small', 'large'].includes(value),\n  },\n})\n\nconst emit = defineEmits([\n  ...useSelectableEmits,\n  'focus', 'blur', 'update:modelValue',\n])\n\nconst elements = {\n  container: shallowRef<HTMLElement>(),\n  input: shallowRef<HTMLElement>(),\n  label: shallowRef<HTMLElement>(),\n}\n\nconst { getColor } = useColors()\nconst { hasKeyboardFocus, keyboardFocusListeners } = useKeyboardOnlyFocus()\nconst {\n  isChecked,\n  computedError,\n  isIndeterminate,\n  computedErrorMessages,\n  validationAriaAttributes,\n  toggleSelection,\n  onBlur,\n  onFocus,\n  reset,\n  focus,\n  isDirty,\n  isTouched,\n  isLoading,\n  isError,\n} = useSelectable(props, emit, elements)\n\nconst computedBackground = computed(() => getColor(isChecked.value ? props.color : props.offColor))\nconst { textColorComputed } = useTextColor(computedBackground)\n\nconst computedInnerLabel = computed(() => {\n  if (props.trueInnerLabel && isChecked.value) {\n    return props.trueInnerLabel\n  }\n  if (props.falseInnerLabel && !isChecked.value) {\n    return props.falseInnerLabel\n  }\n  return ''\n})\n\nconst computedLabel = computed(() => {\n  if (props.trueLabel && isChecked.value) {\n    return props.trueLabel\n  }\n  if (props.falseLabel && !isChecked.value) {\n    return props.falseLabel\n  }\n  return props.label\n})\n\nconst computedClass = useBem('va-switch', () => ({\n  ...pick(props, ['readonly', 'disabled', 'leftLabel']),\n  checked: isChecked.value,\n  indeterminate: isIndeterminate.value,\n  small: props.size === 'small',\n  large: props.size === 'large',\n  error: computedError.value,\n  keyboardFocus: hasKeyboardFocus.value,\n}))\n\nconst styleComputed = computed(() => ({\n  lineHeight: computedErrorMessages.value.length ? 1 : 0,\n}))\n\nconst progressCircleSize = computed(() => {\n  const size = { small: '15px', medium: '20px', large: '25px' }\n\n  return size[props.size]\n})\n\nconst trackStyle = computed(() => ({\n  borderColor: computedError.value ? getColor('danger') : '',\n  backgroundColor: computedBackground.value,\n}))\n\nconst labelStyle = computed(() => ({\n  color: computedError.value ? getColor('danger') : '',\n}))\n\nconst trackLabelStyle = computed(() => ({\n  color: textColorComputed.value,\n  'text-align': isChecked.value ? 'left' as const : 'right' as const,\n}))\n\nconst slots = useSlots()\n\nconst componentId = useComponentUuid()\nconst ariaLabelIdComputed = computed(() => `aria-label-id-${componentId}`)\nconst inputAttributesComputed = computed(() => ({\n  id: props.id || undefined,\n  name: props.name || undefined,\n  disabled: props.disabled,\n  readonly: props.readonly,\n  'aria-disabled': props.disabled,\n  'aria-readonly': props.readonly,\n  'aria-checked': !!props.modelValue,\n  'aria-label': !slots.default ? props.ariaLabel : undefined,\n  'aria-labelledby': computedLabel.value || slots.default ? ariaLabelIdComputed.value : undefined,\n  tabindex: props.disabled ? -1 : 0,\n  checked: isChecked.value,\n  ...validationAriaAttributes.value,\n}))\n\nconst onEnterKeyPress = () => {\n  elements.input.value?.click()\n}\n\nconst input = elements.input\n\ndefineExpose({\n  focus,\n  reset,\n  isDirty,\n  isTouched,\n  isLoading,\n  isError,\n})\n</script>\n\n<style lang=\"scss\">\n@import \"variables\";\n@import \"../../styles/resources\";\n\n.va-switch {\n  line-height: 0;\n\n  @at-root {\n    .va-switch__container {\n      display: inline-flex;\n      align-items: center;\n      width: 100%;\n    }\n  }\n\n  display: var(--va-switch-display);\n\n  &:focus {\n    outline: none;\n  }\n\n  &__inner {\n    cursor: var(--va-switch-inner-cursor);\n    display: inline-block;\n    position: relative;\n    height: var(--va-switch-inner-height);\n    width: var(--va-switch-inner-width);\n    min-width: var(--va-switch-inner-min-width);\n    border-radius: var(--va-switch-inner-border-radius);\n\n    &:focus {\n      outline: 0;\n      box-shadow: 0 0 0 0.3rem rgba(52, 144, 220, 0.5);\n    }\n  }\n\n  &--small {\n    .va-switch {\n      &__inner {\n        height: var(--va-switch-sm-inner-height);\n        width: var(--va-switch-sm-inner-width);\n        min-width: var(--va-switch-sm-inner-min-width);\n      }\n\n      &__checker-circle {\n        height: 1.1rem;\n        width: 1.1rem;\n      }\n    }\n  }\n\n  &--large {\n    .va-switch {\n      &__inner {\n        height: var(--va-switch-lg-inner-height);\n        width: var(--va-switch-lg-inner-width);\n        min-width: var(--va-switch-lg-inner-min-width);\n      }\n\n      &__checker-circle {\n        height: 1.8rem;\n        width: 1.8rem;\n      }\n    }\n  }\n\n  &--disabled {\n    @include va-disabled;\n  }\n\n  &--readonly {\n    @include va-readonly;\n\n    .va-switch__label {\n      cursor: initial;\n      pointer-events: auto;\n    }\n  }\n\n  &--left-label {\n    .va-switch__container {\n      flex-direction: row-reverse;\n    }\n\n    .va-switch__label {\n      padding: 0 var(--va-switch-label-left-padding) 0 0;\n    }\n  }\n\n  &--indeterminate {\n    .va-switch {\n      &__checker {\n        margin: auto 0;\n        transform: translateX(-50%);\n      }\n\n      &__checker-wrapper {\n        transform: translateX(50%);\n      }\n    }\n  }\n\n  &--checked {\n    .va-switch {\n      &__checker {\n        transform: translateX(calc(-100% - 0.3rem));\n      }\n\n      &__checker-circle {\n        background-color: var(--va-switch-checker-active-background-color);\n      }\n\n      &__checker-wrapper {\n        transform: translateX(100%);\n      }\n    }\n  }\n\n  &--error {\n    .va-switch {\n      &__track {\n        border: 0.1rem solid;\n      }\n    }\n  }\n\n  &__label {\n    cursor: pointer;\n    text-align: left;\n    padding: 0 0 0 var(--va-switch-label-right-padding);\n  }\n\n  #{&}__track {\n    display: flex;\n    overflow: hidden;\n    border-radius: var(--va-switch-track-border-radius);\n    height: var(--va-switch-track-height);\n    width: var(--va-switch-track-width);\n    background: var(--va-switch-track-background);\n    box-shadow: var(--va-switch-track-box-shadow);\n    transition: var(--va-switch-track-transition);\n\n    @at-root {\n      .va-switch--keyboard-focus#{&} {\n        @include focus-outline('inherit');\n      }\n\n      .va-switch--small#{&} {\n        border-radius: 0.75rem;\n      }\n\n      .va-switch--large#{&} {\n        border-radius: 1.25rem;\n      }\n    }\n  }\n\n  #{&}__track-label {\n    color: $white;\n    margin: auto 0.5rem auto 2rem;\n    user-select: none;\n    width: 100%;\n\n    @at-root {\n      .va-switch--checked#{&} {\n        margin: auto 2rem auto 0.5rem;\n      }\n\n      .va-switch--small#{&} {\n        margin: auto 0.5rem auto 1.55rem;\n\n        @at-root {\n          .va-switch--checked#{&} {\n            margin: auto 1.55rem auto 0.5rem;\n          }\n        }\n      }\n\n      .va-switch--large#{&} {\n        margin: auto 0.5rem auto 2.3rem;\n\n        @at-root {\n          .va-switch--checked#{&} {\n            margin: auto 2.3rem auto 0.5rem;\n          }\n        }\n      }\n    }\n  }\n\n  &__checker {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    margin: var(--va-switch-checker-margin);\n    transform: var(--va-switch-checker-transform);\n    box-shadow: var(--va-switch-checker-box-shadow);\n    transition: var(--va-switch-checker-transition);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  &__checker-circle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: var(--va-switch-checker-height);\n    width: var(--va-switch-checker-width);\n    background-color: var(--va-switch-checker-background-color);\n    border-radius: var(--va-switch-checker-border-radius);\n  }\n\n  &__checker-wrapper {\n    position: absolute;\n    margin: auto;\n    transform: var(--va-switch-checker-wrapper-transform);\n    top: var(--va-switch-checker-wrapper-top);\n    left: var(--va-switch-checker-wrapper-left);\n    bottom: var(--va-switch-checker-wrapper-bottom);\n    right: var(--va-switch-checker-wrapper-right);\n    width: var(--va-switch-checker-wrapper-width);\n    height: var(--va-switch-checker-wrapper-height);\n    transition: var(--va-switch-checker-wrapper-transition);\n    pointer-events: var(--va-switch-checker-wrapper-pointer-events);\n  }\n\n  &__input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    opacity: 0;\n    cursor: inherit;\n  }\n}\n</style>\n"],"names":[],"mappings":"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"}