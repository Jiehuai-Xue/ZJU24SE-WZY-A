{"version":3,"file":"VaModal.vue_vue_type_script_setup_true_lang.mjs","sources":["../../../../../src/components/va-modal/VaModal.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"rootElement\"\n    class=\"va-modal-entry\"\n    :class=\"$props.anchorClass\"\n  >\n    <div v-if=\"$slots.anchor\" class=\"va-modal__anchor\" v-bind=\"teleportFromAttrs\">\n      <slot name=\"anchor\" v-bind=\"slotBind\" />\n    </div>\n\n    <teleport :to=\"attachElement\" :disabled=\"$props.disableAttachment\">\n      <WithTransition\n        name=\"va-modal\"\n        :isTransition=\"!$props.withoutTransitions\"\n        :duration=\"300\"\n        :style=\"{ zIndex: zIndexComputed }\"\n        appear\n        v-bind=\"{ ...$attrs, ...teleportedAttrs }\"\n        @beforeEnter=\"onBeforeEnterTransition\"\n        @afterEnter=\"onAfterEnterTransition\"\n        @beforeLeave=\"onBeforeLeaveTransition\"\n        @afterLeave=\"onAfterLeaveTransition\"\n      >\n        <div\n          v-if=\"valueComputed\"\n          :aria-labelledby=\"title\"\n          :class=\"computedClass\"\n          class=\"va-modal\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n        >\n          <div\n            v-if=\"$props.overlay\"\n            class=\"va-modal__overlay\"\n            :style=\"computedOverlayStyles\"\n            :class=\"computedOverlayClass\"\n          />\n          <div\n            ref=\"modalDialog\"\n            class=\"va-modal__dialog\"\n            :style=\"[computedDialogStyle]\"\n          >\n            <va-icon\n              v-if=\"$props.fullscreen || $props.closeButton\"\n              va-child=\"closeButton\"\n              :class=\"{ 'va-modal__close--fullscreen': $props.fullscreen }\"\n              :aria-label=\"tp($props.ariaCloseLabel)\"\n              role=\"button\"\n              tabindex=\"0\"\n              name=\"va-close\"\n              class=\"va-modal__close\"\n              @click=\"cancel\"\n              @keydown.space=\"cancel\"\n              @keydown.enter=\"cancel\"\n            />\n            <template v-if=\"$slots.content\">\n              <slot name=\"content\" v-bind=\"slotBind\" />\n            </template>\n            <div v-else class=\"va-modal__inner\">\n              <div\n                class=\"va-modal__header\"\n              >\n                <slot name=\"header\" v-bind=\"slotBind\">\n                  <div\n                    v-if=\"title\"\n                    class=\"va-modal__title\"\n                    :style=\"{ color: getColor('primary') }\"\n                  >\n                    {{ $props.title }}\n                  </div>\n                </slot>\n              </div>\n              <div\n                v-if=\"$props.message\"\n                class=\"va-modal__message\"\n              >\n                {{ $props.message }}\n              </div>\n              <div\n                v-if=\"$slots.default\"\n                class=\"va-modal__message\"\n              >\n                <slot v-bind=\"slotBind\" />\n              </div>\n              <div\n                v-if=\"($props.cancelText || $props.okText) && !$props.hideDefaultActions\"\n                class=\"va-modal__footer\"\n              >\n                <va-button\n                  v-if=\"$props.cancelText\"\n                  va-child=\"cancelButton\"\n                  preset=\"secondary\"\n                  color=\"secondary\"\n                  class=\"va-modal__default-cancel-button\"\n                  @click=\"cancel\"\n                >\n                  {{ tp($props.cancelText) }}\n                </va-button>\n                <va-button\n                  va-child=\"okButton\"\n                  @click=\"ok\"\n                >\n                  {{ tp($props.okText) }}\n                </va-button>\n              </div>\n              <div\n                v-if=\"$slots.footer\"\n                class=\"va-modal__footer\"\n              >\n                <slot name=\"footer\" v-bind=\"slotBind\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </WithTransition>\n    </teleport>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport type { PropType, StyleValue } from 'vue'\nimport {\n  Transition,\n  h,\n  computed,\n  shallowRef,\n  toRef,\n  watchEffect,\n  onMounted,\n  nextTick,\n  watch,\n  defineComponent,\n  onBeforeUnmount,\n} from 'vue'\n\nimport {\n  useStateful, useStatefulProps, useStatefulEmits,\n  useColors, useTextColor,\n  useWindow,\n  useComponentPresetProp,\n  useTrapFocus,\n  useModalLevel,\n  useTranslation,\n  useClickOutside,\n  useDocument,\n  useTeleported,\n  useSizeRef,\n  useIsMounted,\n} from '../../composables'\n\nimport { VaButton } from '../va-button'\nimport { VaIcon } from '../va-icon'\n\nimport { useBlur } from './hooks/useBlur'\nimport { useZIndex } from '../../composables/useZIndex'\nimport { StringWithAutocomplete } from '../../utils/types/prop-type'\nimport { defineChildProps, useChildComponents } from '../../composables/useChildComponents'\n\nconst WithTransition = defineComponent({\n  name: 'ModalElement',\n  inheritAttrs: false,\n  props: {\n    ...useComponentPresetProp,\n    isTransition: { type: Boolean, default: true },\n  },\n  setup: (props, { slots, attrs }) => () => props.isTransition\n    ? h(Transition, { ...attrs }, slots)\n    : slots.default?.(attrs),\n})\n</script>\n\n<script lang=\"ts\" setup>\ndefineOptions({\n  name: 'VaModal',\n  inheritAttrs: false,\n})\n\nconst props = defineProps({\n  ...defineChildProps({\n    cancelButton: VaButton,\n    okButton: VaButton,\n    closeButton: VaIcon,\n  }),\n  ...useStatefulProps,\n  modelValue: { type: Boolean, default: false },\n  attachElement: { type: String, default: 'body' },\n  allowBodyScroll: { type: Boolean, default: false },\n  disableAttachment: { type: Boolean, default: false },\n  title: { type: String, default: '' },\n  message: { type: String, default: '' },\n  okText: { type: String, default: '$t:ok' },\n  cancelText: { type: String, default: '$t:cancel' },\n  hideDefaultActions: { type: Boolean, default: false },\n  fullscreen: { type: Boolean, default: false },\n  closeButton: { type: Boolean, default: false },\n  mobileFullscreen: { type: Boolean, default: true },\n  noDismiss: { type: Boolean, default: false },\n  noOutsideDismiss: { type: Boolean, default: false },\n  noEscDismiss: { type: Boolean, default: false },\n  maxWidth: { type: String, default: '' },\n  maxHeight: { type: String, default: '' },\n  anchorClass: { type: String },\n  size: {\n    type: String as PropType<StringWithAutocomplete<'medium' | 'small' | 'large' | 'auto'>>,\n    default: 'medium',\n  },\n  sizesConfig: {\n    type: Object,\n    default: () => ({\n      defaultSize: 'medium',\n      sizes: {\n        small: 576,\n        medium: 768,\n        large: 992,\n        auto: 'max-content',\n      },\n    }),\n  },\n  fixedLayout: { type: Boolean, default: false },\n  withoutTransitions: { type: Boolean, default: false },\n  overlay: { type: Boolean, default: true },\n  overlayOpacity: { type: [Number, String], default: 0.6 },\n  showNestedOverlay: { type: Boolean, default: false },\n  blur: { type: Boolean, default: false },\n  zIndex: { type: [Number, String], default: undefined },\n  backgroundColor: { type: String, default: 'background-secondary' },\n  noPadding: { type: Boolean, default: false },\n  beforeClose: { type: Function as PropType<(hide: () => void) => any> },\n  beforeOk: { type: Function as PropType<(hide: () => void) => any> },\n  beforeCancel: { type: Function as PropType<(hide: () => void) => any> },\n  ariaCloseLabel: { type: String, default: '$t:close' },\n})\n\nuseChildComponents(props)\n\nconst emit = defineEmits([\n  ...useStatefulEmits,\n  'cancel', 'ok', 'before-open', 'open', 'before-close', 'close', 'click-outside',\n])\n\nconst rootElement = shallowRef<HTMLElement>()\nconst modalDialog = shallowRef<HTMLElement>()\nconst { trapFocusIn, freeFocus } = useTrapFocus()\n\nconst {\n  registerModal,\n  unregisterModal,\n  isTopLevelModal,\n  isLowestLevelModal,\n} = useModalLevel()\n\nconst { getColor } = useColors()\nconst { textColorComputed } = useTextColor(toRef(props, 'backgroundColor'))\nconst { valueComputed } = useStateful(props, emit)\n\nconst computedClass = computed(() => ({\n  'va-modal--fullscreen': props.fullscreen,\n  'va-modal--mobile-fullscreen': props.mobileFullscreen,\n  'va-modal--fixed-layout': props.fixedLayout,\n  'va-modal--no-padding': props.noPadding,\n}))\n\nconst {\n  zIndex: zIndexInherited,\n} = useZIndex(valueComputed)\n\nconst zIndexComputed = computed(() => {\n  if (props.zIndex) {\n    return Number(props.zIndex)\n  }\n  return zIndexInherited.value\n})\n\nconst sizeComputed = useSizeRef(props)\n\nconst computedDialogStyle = computed(() => ({\n  maxWidth: props.maxWidth || sizeComputed.value,\n  maxHeight: props.maxHeight,\n  color: textColorComputed.value,\n  background: getColor(props.backgroundColor),\n}))\n\nconst computedOverlayClass = computed(() => ({\n  'va-modal__overlay--lowest': isLowestLevelModal.value,\n  'va-modal__overlay--top': isTopLevelModal.value,\n}))\n\nconst getOverlayOpacity = () => {\n  if (props.showNestedOverlay && !isLowestLevelModal.value) {\n    return 'var(--va-modal-overlay-nested-opacity)'\n  }\n  return 'var(--va-modal-overlay-opacity)'\n}\n\nconst computedOverlayStyles = computed(() => {\n  if (!props.overlay) { return }\n\n  if (isTopLevelModal.value || props.showNestedOverlay) {\n    return {\n      'background-color': 'var(--va-modal-overlay-color)',\n      opacity: getOverlayOpacity(),\n    } as StyleValue\n  }\n  return ''\n})\n\nconst show = () => { valueComputed.value = true }\nconst hide = (cb?: () => void) => {\n  const _hide = () => {\n    valueComputed.value = false\n    cb?.()\n  }\n  props.beforeClose ? props.beforeClose(_hide) : _hide()\n}\nconst toggle = () => { valueComputed.value = !valueComputed.value }\nconst cancel = () => {\n  const _hide = () => {\n    hide(() => emit('cancel'))\n  }\n  props.beforeCancel ? props.beforeCancel(_hide) : _hide()\n}\nconst ok = () => {\n  const _hide = () => {\n    hide(() => emit('ok'))\n  }\n  props.beforeOk ? props.beforeOk(_hide) : _hide()\n}\nconst trapFocusInModal = () => {\n  nextTick(() => { // trapFocusIn use querySelector, so need nextTick, to be sure, that DOM has been updated after modal has been opened\n    if (modalDialog.value) {\n      trapFocusIn(modalDialog.value)\n    }\n  })\n}\n\nconst onBeforeEnterTransition = (el: HTMLElement) => emit('before-open', el)\nconst onAfterEnterTransition = (el: HTMLElement) => emit('open', el)\nconst onBeforeLeaveTransition = (el: HTMLElement) => emit('before-close', el)\nconst onAfterLeaveTransition = (el: HTMLElement) => emit('close', el)\n\nconst listenKeyUp = (e: KeyboardEvent) => {\n  const hideModal = () => {\n    if (e.code === 'Escape' && !props.noEscDismiss && !props.noDismiss && isTopLevelModal.value) {\n      cancel()\n    }\n  }\n\n  setTimeout(hideModal)\n}\n\nuseClickOutside([modalDialog], () => {\n  if (!valueComputed.value || props.noOutsideDismiss || props.noDismiss || !isTopLevelModal.value) { return }\n\n  emit('click-outside')\n  cancel()\n})\n\nconst window = useWindow()\n\nwatchEffect(() => {\n  if (valueComputed.value) {\n    window.value?.addEventListener('keyup', listenKeyUp)\n  } else {\n    window.value?.removeEventListener('keyup', listenKeyUp)\n  }\n})\n\nuseBlur(toRef(props, 'blur'), valueComputed)\n\nconst documentRef = useDocument()\nconst setBodyOverflow = (overflow: string) => {\n  if (!documentRef.value || props.allowBodyScroll) { return }\n\n  if (overflow === 'hidden') {\n    documentRef.value!.body.classList.add('va-modal-open')\n  } else {\n    documentRef.value!.body.classList.remove('va-modal-open')\n  }\n}\n\nconst onShow = () => {\n  registerModal()\n  setBodyOverflow('hidden')\n}\n\nconst onHide = () => {\n  if (isLowestLevelModal.value) {\n    freeFocus()\n    setBodyOverflow('')\n  }\n  unregisterModal()\n}\n\n// Handle is mounted, because: modal can be opened with this.$vaModal.init or v-if\nwatch(valueComputed, (newValue) => {\n  if (newValue) {\n    onShow()\n  } else {\n    onHide()\n  }\n})\n\nonMounted(() => {\n  if (valueComputed.value) { // case when open modal with this.$vaModal.init\n    onShow()\n  }\n\n  if (isTopLevelModal.value) {\n    trapFocusInModal()\n  }\n})\n\nonBeforeUnmount(() => {\n  onHide()\n})\n\nwatch(isTopLevelModal, newIsTopLevelModal => {\n  if (newIsTopLevelModal) {\n    trapFocusInModal()\n  }\n}, { immediate: true })\n\ndefineExpose({\n  show,\n  hide,\n  toggle,\n  cancel,\n  ok,\n  onBeforeEnterTransition,\n  onAfterEnterTransition,\n  onBeforeLeaveTransition,\n  onAfterLeaveTransition,\n  listenKeyUp,\n})\n\nconst { tp } = useTranslation()\n\nconst {\n  teleportFromAttrs,\n  teleportedAttrs,\n} = useTeleported()\n\nconst slotBind = { show, hide, toggle, cancel, ok }\n</script>\n\n<style lang=\"scss\">\n@import \"../../styles/resources\";\n@import \"variables\";\n\nbody.va-modal-open {\n  overflow: hidden;\n}\n\n.va-modal-overlay-background--blurred > :not(div[class*=\"va-\"]) {\n  filter: blur(var(--va-modal-overlay-background-blur-radius));\n  position: absolute;\n  height: 100%;\n  width: 100%;\n}\n\n.va-modal {\n  position: var(--va-modal-position);\n  display: var(--va-modal-display);\n  align-items: var(--va-modal-align-items);\n  justify-content: var(--va-modal-justify-content);\n  width: var(--va-modal-width);\n  height: var(--va-modal-height);\n  top: var(--va-modal-top);\n  left: var(--va-modal-left);\n  overflow: var(--va-modal-overflow);\n  outline: var(--va-modal-outline);\n  font-family: var(--va-font-family);\n\n  &__title {\n    margin-bottom: 1.5rem;\n\n    @include va-title();\n  }\n\n  &-enter-from &__dialog,\n  &-leave-to &__dialog {\n    opacity: 0;\n    transform: translateY(-30%);\n  }\n\n  &-enter-active &__dialog,\n  &-leave-active &__dialog {\n    transition: opacity var(--va-modal-opacity-transition), transform var(--va-modal-transform-transition);\n  }\n\n  &__dialog {\n    min-height: var(--va-modal-dialog-min-height);\n    max-height: calc(100% - var(--va-modal-dialog-margin));\n    height: var(--va-modal-dialog-height);\n    border-radius: var(--va-modal-dialog-border-radius, var(--va-block-border-radius));\n    margin: var(--va-modal-dialog-margin);\n    box-shadow: var(--va-modal-dialog-box-shadow, var(--va-block-box-shadow));\n    position: relative;\n    overflow: auto;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    z-index: 1;\n  }\n\n  &__overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 0;\n    will-change: opacity;\n  }\n\n  &-enter-from,\n  &-leave-to {\n    .va-modal__overlay--lowest {\n      opacity: 0 !important;\n    }\n  }\n\n  &-leave-active,\n  &-enter-active {\n    .va-modal__overlay.va-modal__overlay--lowest {\n      transition: opacity var(--va-modal-opacity-transition);\n    }\n  }\n\n  &-leave-active {\n    .va-modal__overlay:not(.va-modal__overlay--lowest) {\n      display: none;\n    }\n  }\n\n  &--fullscreen {\n    .va-modal__dialog {\n      min-width: 100vw !important;\n      max-width: 100vw;\n      min-height: 100vh !important;\n      border-radius: 0;\n      margin: 0;\n    }\n  }\n\n  &--mobile-fullscreen {\n    .va-modal__dialog {\n      @media all and (max-width: map-get($grid-breakpoints, sm)) {\n        margin: 0 !important;\n        min-width: 100vw !important;\n        min-height: 100vh !important;\n        border-radius: 0;\n      }\n    }\n  }\n\n  &--fixed-layout {\n    .va-modal__inner {\n      overflow: hidden;\n      padding: var(--va-modal-padding-top) 0 var(--va-modal-padding-bottom);\n      max-height: calc(100vh - 2rem);\n\n      .va-modal__header,\n      .va-modal__footer,\n      .va-modal__title {\n        padding: 0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left);\n      }\n\n      .va-modal__message {\n        padding: 0 var(--va-modal-padding-right) 0 var(--va-modal-padding-left);\n        overflow: auto;\n      }\n    }\n\n    .va-modal__dialog {\n      overflow: hidden;\n    }\n  }\n\n  &--no-padding {\n    .va-modal__inner {\n      padding: 0;\n    }\n  }\n\n  &__message {\n    margin-bottom: calc(var(--va-modal-padding-bottom) / 2);\n  }\n\n  &__inner {\n    padding: var(--va-modal-padding);\n    overflow: auto;\n    display: flex;\n    flex-flow: column;\n\n    > div:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n\n  &__close {\n    cursor: pointer;\n    position: absolute;\n    top: calc(var(--va-modal-padding-top) / 2);\n    right: calc(var(--va-modal-padding-right) / 2);\n    color: var(--va-secondary);\n    z-index: 1;\n    justify-self: flex-end;\n\n    &--fullscreen {\n      position: fixed;\n    }\n  }\n\n  &__default-cancel-button {\n    margin-right: 0.75rem;\n  }\n\n  &__footer {\n    margin-top: auto;\n    min-height: fit-content;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: var(--va-modal-footer-justify-content);\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n}\n</style>\n"],"names":[],"mappings":"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"}